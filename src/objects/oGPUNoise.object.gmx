<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>show_debug_overlay(true);
randomize();

_i = 0;

_shader = _p_demo;
_seed = 0;
_pers = 0.65;
_freq = 16.0;
_scale = 1.0;
_time_as_z = true;
_x_offset = 0;
_y_offset = 0;
_z_offset = 0;


// Create the GUI using cbDataGUI extension
texture_set_interpolation(false);

scr_cbDataGUI_create();

// shader
var dsm = ds_map_create();
ds_map_add(dsm, "Perlin Noise", real(asset_get_index("_p_demo")));
ds_map_add(dsm, "Simplex Noise", real(asset_get_index("_s_demo")));
ds_map_add(dsm, "Value Noise", real(asset_get_index("_v_demo")));

scr_cbDataGUI_add(oGPUNoise, "shader", cbData_type.number, -1, dsm);
scr_cbDataGUI_set_value(oGPUNoise, "shader", _shader);
ds_map_destroy(dsm);

// seed - string - numbers only
var s_gui = scr_cbDataGUI_add(oGPUNoise, "seed", cbData_type.text, -1);
scr_textbox_set_allowed_chars(s_gui._component, "0123456789-+");
scr_cbDataGUI_set_value(oGPUNoise, "seed", string(_seed));

// persistence
scr_cbDataGUI_add(oGPUNoise, "persistence", cbData_type.number, -1);
scr_cbDataGUI_set_range(oGPUNoise, "persistence", 0, 1);
scr_cbDataGUI_set_value(oGPUNoise, "persistence", _pers);

// frequency
scr_cbDataGUI_add(oGPUNoise, "frequency", cbData_type.number, -1);
scr_cbDataGUI_set_range(oGPUNoise, "frequency", 0, 32.0);
scr_cbDataGUI_set_value(oGPUNoise, "frequency", _freq);

// scale
scr_cbDataGUI_add(oGPUNoise, "scale", cbData_type.number, -1);
scr_cbDataGUI_set_range(oGPUNoise, "scale", 0, 8);
scr_cbDataGUI_set_value(oGPUNoise, "scale", _scale);

// time_as_z
scr_cbDataGUI_add(oGPUNoise, "time_as_z", cbData_type.boolean, -1);
scr_cbDataGUI_set_value(oGPUNoise, "time_as_z", _time_as_z);

// generate a random seed button
scr_cbDataGUI_add(oGPUNoise, "scr_generate_random_seed", cbData_type.function, -1);

// x offset
scr_cbDataGUI_add(oGPUNoise, "x_offset", cbData_type.number, -1);
scr_cbDataGUI_set_range(oGPUNoise, "x_offset", -room_width, room_width);
scr_cbDataGUI_set_value(oGPUNoise, "x_offset", _x_offset);

// y offset
scr_cbDataGUI_add(oGPUNoise, "y_offset", cbData_type.number, -1);
scr_cbDataGUI_set_range(oGPUNoise, "y_offset", -room_height, room_height);
scr_cbDataGUI_set_value(oGPUNoise, "y_offset", _y_offset);

// z offset
scr_cbDataGUI_add(oGPUNoise, "z_offset", cbData_type.number, -1);
scr_cbDataGUI_set_range(oGPUNoise, "z_offset", -100, 100);
scr_cbDataGUI_set_value(oGPUNoise, "z_offset", _z_offset);

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="61">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>_seed = real(_seed) - 1;
scr_cbDataGUI_set_value(oGPUNoise, "seed", string(_seed));
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="60">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>_seed = real(_seed) + 1;
scr_cbDataGUI_set_value(oGPUNoise, "seed", string(_seed));
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Get settings from the GUI
// shader
_shader = scr_cbDataGUI_get_value(oGPUNoise, "shader");
// seed
_seed = scr_cbDataGUI_get_value(oGPUNoise, "seed");
// persistence
_pers = scr_cbDataGUI_get_value(oGPUNoise, "persistence");
// frequency
_freq = scr_cbDataGUI_get_value(oGPUNoise, "frequency");
// scale
_scale = scr_cbDataGUI_get_value(oGPUNoise, "scale");
// time_as_z
_time_as_z = scr_cbDataGUI_get_value(oGPUNoise, "time_as_z");
// x offset
_x_offset = scr_cbDataGUI_get_value(oGPUNoise, "x_offset");
// y offset
_y_offset = scr_cbDataGUI_get_value(oGPUNoise, "y_offset");
// x offset
_z_offset = scr_cbDataGUI_get_value(oGPUNoise, "z_offset");

// Increase frame count
if (_time_as_z) _i++;

// Draw shader result to the screen
shader_set(_shader);
    var frame = shader_get_uniform(_shader, "u_frame");
    shader_set_uniform_f(frame, _i);
    
    var res = shader_get_uniform(_shader, "u_resolution");
    shader_set_uniform_f(res, room_width, room_height);
    
    var seed = shader_get_uniform(_shader, "u_seed");
    shader_set_uniform_f(seed, _seed);

    var pers = shader_get_uniform(_shader, "u_persistence");
    shader_set_uniform_f(pers, _pers);
    
    var freq = shader_get_uniform(_shader, "u_freq");
    shader_set_uniform_f(freq, _freq);
    
    var scale = shader_get_uniform(_shader, "u_scale");
    shader_set_uniform_f(scale, _scale);

    var xoffset = shader_get_uniform(_shader, "u_xoffset");
    shader_set_uniform_f(xoffset, _x_offset);
        
    var yoffset = shader_get_uniform(_shader, "u_yoffset");
    shader_set_uniform_f(yoffset, _y_offset);
        
    var zoffset = shader_get_uniform(_shader, "u_zoffset");
    shader_set_uniform_f(zoffset, _z_offset);
        
    draw_rectangle(0, 0, room_width, room_height, false);
    
shader_reset();


</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
